<!--
    <copyright>
        Created by Matt Weber <matt@badecho.com>
        Copyright @ 2021 Bad Echo LLC. All Rights Reserved.
    </copyright>
-->
<Grid xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:fenestra="http://schemas.badecho.com/fenestra/2021/02/xaml"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:c="clr-namespace:BadEcho.Omnified.Vision.Converters;assembly=BadEcho.Omnified.Vision"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:vm="clr-namespace:BadEcho.Omnified.Vision.ViewModels"
      xmlns:r="clr-namespace:BadEcho.Omnified.Vision.Properties;assembly=BadEcho.Omnified.Vision"
      d:DataContext="{d:DesignInstance Type=vm:VisionViewModel}"
      mc:Ignorable="d"
      VerticalAlignment="Top">
    <Grid.Resources>
        <c:LocationToHorizontalAlignmentConverter x:Key="LocationHorizontalConverter"/>
        <c:LocationToVerticalAlignmentConverter x:Key="LocationVerticalConverter"/>
    </Grid.Resources>
    <Grid.RowDefinitions>
        <RowDefinition/>
        <RowDefinition/>
    </Grid.RowDefinitions>
    <fenestra:OutlinedTextElement Style="{StaticResource VisionTitleTextStyle}"
                                  Text="{x:Static r:Strings.VisionTitle}"
                                  FontSize="28"
                                  FontWeight="Bold"
                                  Margin="15,0,0,0"
                                  Grid.Row="0"
                                  />
    <ItemsControl ItemsSource="{Binding Children}"
                  Grid.Row="1">
        <ItemsControl.ItemTemplate>
            <DataTemplate>
                <DataTemplate.Resources>
                    <fenestra:ViewContextTemplateSelector x:Key="ContextSelector"/>
                </DataTemplate.Resources>
                <UserControl Content="{Binding ModuleViewModel}"
                             ContentTemplateSelector="{StaticResource ContextSelector}"
                             HorizontalAlignment="{Binding Location, Converter={StaticResource LocationHorizontalConverter}}"
                             VerticalAlignment="{Binding Location, Converter={StaticResource LocationVerticalConverter}}"
                             />
            </DataTemplate>
        </ItemsControl.ItemTemplate>
    </ItemsControl>

</Grid>